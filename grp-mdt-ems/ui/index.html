<html style="overflow-y: hidden;">

<head>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Antonio:wght@100;200;300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="new-style.css">
</head>

<body>
    <div id="content">
        <div class="volumeU"></div>
        <div class="volumeP"></div>
        <div id="login">
            <input type="text" placeholder="Login">
            <input type="password" placeholder="Senha">
            <button onclick="login()">ACESSAR</button>
            <p></p>
        </div>
        <div id="navbar">
            <ul>
                <li>
                    <img src="badge.png" class="noselect">
                </li>
                <li v-on:click="changePage('Home')" id="home" class="noselect">
                    <img src="dashboard.png">
                </li>
                <li v-on:click="changePage('Search Patients')" id="search-offenders" class="noselect">
                    <img src="finduser.png">
                </li>
                <li v-on:click="changePage('Submit Report')" id="submit-report" class="noselect">
                    <img src="createlaudo.png">
                </li>
                <li v-on:click="changePage('Search Reports')" id="search-reports" class="noselect">
                    <img src="findlaudo.png">
                </li>
            </ul>
        </div>
        <div id="reports">
            <h3 class="page-title">PillBox Medical</h3>

            <div style="width: 100%;">
                <h4>LAUDOS RECENTES</h4>
                <article v-if="homepage.reports" v-for="result in homepage.reports"
                    v-on:click="report_selected = result; changePage('Search Reports');">
                    <div class="container">
                        <div class="id_report">
                            <img src="user.png" alt="">
                            ID: {{ result.id }}
                        </div>
                        <div class="infos">
                            <h4>{{ result.name }}</h4>
                            <h5>{{ result.date.split(" ")[0] }}</h5>
                            <h5>{{ result.date.split(" ")[1] }}</h5>
                        </div>
                    </div>
                    <button type="button" class="noselect btn"> {{ result.author }} </button>
                </article>
            </div>
        </div>

        <div class="line" style="top: 10%;"></div>

        <img src="footer.png" id="banner" class="noselect">

        <section id="container">
            <section id="human-body">

                <div class="human-body">
                    <svg data-position="cabeça" class="head" xmlns="http://www.w3.org/2000/svg" width="56.594"
                        height="95.031" viewBox="0 0 56.594 95.031">
                        <path
                            d="M15.92 68.5l8.8 12.546 3.97 13.984-9.254-7.38-4.622-15.848zm27.1 0l-8.8 12.546-3.976 13.988 9.254-7.38 4.622-15.848zm6.11-27.775l.108-11.775-21.16-14.742L8.123 26.133 8.09 40.19l-3.24.215 1.462 9.732 5.208 1.81 2.36 11.63 9.72 11.018 10.856-.324 9.56-10.37 1.918-11.952 5.207-1.81 1.342-9.517zm-43.085-1.84l-.257-13.82L28.226 11.9l23.618 15.755-.216 10.37 4.976-17.085L42.556 2.376 25.49 0 10.803 3.673.002 24.415z" />
                    </svg>
                    <svg data-position="ombroE" class="shoulderE" xmlns="http://www.w3.org/2000/svg" width="40.23"
                        height="46.6" viewBox="0 0 40.23 46.6">
                        <path
                            d="M38.3,0l2,9.2l-11.7,2.9l-7.5-2.6L38.3,0z M17,10.5l-4-2.2l-12.7,14l-0.1,5.3C0.3,27.7,16.8,10.7,17,10.5L17,10.5z M18.3,11.1C18.3,11.4,0.5,30,0.5,30L0,46.6L6.2,36L18,31l8.4-15.4L18.3,11.1z" />
                    </svg>
                    <svg data-position="ombroD" class="shoulderD" xmlns="http://www.w3.org/2000/svg" width="40.23"
                        height="46.6" viewBox="0 0 40.23 46.6">
                        <path
                            d="M2,0L0,9.2l11.7,2.9l7.5-2.6L2,0z M23.2,10.5l4-2.2l12.7,14l0.1,5.3C40,27.7,23.5,10.7,23.2,10.5L23.2,10.5z M21.9,11.1 c0,0.3,17.8,18.9,17.8,18.9l0.5,16.6L34.1,36L22.2,31l-8.4-15.4L21.9,11.1z" />
                    </svg>
                    <svg data-position="braçoE" class="armE" xmlns="http://www.w3.org/2000/svg" width="40.1"
                        height="119.2" viewBox="0 0 40.1 119.2">
                        <path
                            d="M21.1,56.5c-0.1,0.1-0.3,0.2-0.4,0.3l0.9,8.2l13-13.9l1.2-9C30.6,46.7,25.7,51.4,21.1,56.5z M22.5,69L4.4,117.9l5.8,1.3 l19.1-39.4l3.5-22L22.5,69z M17.2,50l2.6,18.7l-17.2,46L0,113l6.6-35.5L17.2,50z M36,37.7c0.1-0.1,0.3-0.2,0.4-0.2l3.7-27.3L33.1,0 l-7.3,10.6l-6.2,37l0.6,5C25.1,47.3,30.4,42.3,36,37.7L36,37.7z M22.3,8.8L19,44.1l-2.2-26.2L22.3,8.8z" />
                    </svg>

                    <svg data-position="braçoD" class="armD" xmlns="http://www.w3.org/2000/svg" width="40.1"
                        height="119.2" viewBox="0 0 40.1 119.2">
                        <path
                            d="M19,56.5c0.1,0.1,0.3,0.2,0.4,0.3L18.5,65l-13-13.9l-1.2-9C9.5,46.7,14.4,51.4,19,56.5L19,56.5z M17.6,69l18.1,48.9 l-5.8,1.3L10.8,79.8l-3.5-22L17.6,69z M22.9,50l-2.6,18.7l17.2,46l2.7-1.8l-6.6-35.5L22.9,50z M4.1,37.7c-0.1-0.1-0.3-0.2-0.4-0.2 L0,10.1L7,0l7.3,10.6l6.2,37l-0.6,5C15,47.3,9.7,42.3,4.1,37.7L4.1,37.7z M17.8,8.8l3.3,35.3l2.2-26.2L17.8,8.8z" />
                    </svg>

                    <svg data-position="peito" class="cheast" xmlns="http://www.w3.org/2000/svg" width="86.594"
                        height="45.063" viewBox="0 0 86.594 45.063">
                        <path
                            d="M19.32 0l-9.225 16.488-10.1 5.056 6.15 4.836 4.832 14.07 11.2 4.616 17.85-8.828-4.452-34.7zm47.934 0l9.225 16.488 10.1 5.056-6.15 4.836-4.833 14.07-11.2 4.616-17.844-8.828 4.45-34.7z" />
                    </svg>
                    <svg data-position="abdômen" class="stomach" xmlns="http://www.w3.org/2000/svg" width="75.25"
                        height="107.594" viewBox="0 0 75.25 107.594">
                        <path
                            d="M19.25 7.49l16.6-7.5-.5 12.16-14.943 7.662zm-10.322 8.9l6.9 3.848-.8-9.116zm5.617-8.732L1.32 2.15 6.3 15.6zm-8.17 9.267l9.015 5.514 1.54 11.028-8.795-5.735zm15.53 5.89l.332 8.662 12.286-2.665.664-11.826zm14.61 84.783L33.28 76.062l-.08-20.53-11.654-5.736-1.32 37.5zM22.735 35.64L22.57 46.3l11.787 3.166.166-16.657zm-14.16-5.255L16.49 35.9l1.1 11.25-8.8-7.06zm8.79 22.74l-9.673-7.28-.84 9.78L-.006 68.29l10.564 14.594 5.5.883 1.98-20.735zM56 7.488l-16.6-7.5.5 12.16 14.942 7.66zm10.32 8.9l-6.9 3.847.8-9.116zm-5.617-8.733L73.93 2.148l-4.98 13.447zm8.17 9.267l-9.015 5.514-1.54 11.03 8.8-5.736zm-15.53 5.89l-.332 8.662-12.285-2.665-.664-11.827zm-14.61 84.783l3.234-31.536.082-20.532 11.65-5.735 1.32 37.5zm13.78-71.957l.166 10.66-11.786 3.168-.166-16.657zm14.16-5.256l-7.915 5.514-1.1 11.25 8.794-7.06zm-8.79 22.743l9.673-7.28.84 9.78 6.862 12.66-10.564 14.597-5.5.883-1.975-20.74z" />
                    </svg>
                    <svg data-position="pernaE" class="legE" xmlns="http://www.w3.org/2000/svg" width="42"
                        height="286.6" viewBox="0 0 42 286.6">
                        <path
                            d="M17.2,138.7l-0.7,6l4.6,5.8l1.5,9.1l3.1,1.3l2.7-13.8l1.8-4.9l-1.5-3.1L17.2,138.7z M37.7,139.1l-3.3,9.3l-7.1,13.8 l1.8,12.6l5.1-14.2l4.2-8L37.7,139.1z M11.2,126.4l5.1,27.3l-3.3-1.8l-2.7,8.9L11.2,126.4z M34,168.8l-1.5,4.9l-3.3,20.6l-0.4,27.5 l4.6,26.8l-0.2-34.4l4.9-13.8l0.7-15.1L34,168.8z M23.4,181.2l1.1,41.3l8.9,33.3l-9.6-4.6l-16-57.8l5.5-36.4L23.4,181.2z M39.3,261.8l-0.7,18.4l-1.5,6.4h-4.6l-1.3-4.4l-1.5-0.2l0.3,4.4l-5.9-1.8l-1.5-0.9l-6.6-1.4l-0.2-5.2l6.4-10.9l4.4-5.5l10.8-4.4 L39.3,261.8z M13.6,3.1v22.5l15.7,31.1l9.9,30.9l-1-21.4L13.6,3.1z M39.1,33.3l0.1-0.1l-0.8-2L21.9,13l-1.2-0.4l11,28.4L39.1,33.3z M32.9,44.1l6.8,17.6L42,40.1l-1.3-3.4L32.9,44.1z M6.4,61.9l0.8,25.3l12.8,35.3l-3.9,10.1L3.5,88.1L6.4,61.9z M31,74.7l0.3,0.8 L37.8,91l-4.2,38.3l-6.6-3.5l5.7-35.7L31,74.7z M9.5,0l0.8,21.4l-7,42.3L0,29.5L9.5,0z M11.6,27.3l14.7,32.4l3.3,26l-6.2,36.6 L9.9,85.1L9.1,46.7L11.6,27.3z" />
                    </svg>
                    <svg data-position="pernaD" class="legD" xmlns="http://www.w3.org/2000/svg" width="42"
                        height="286.6" viewBox="0 0 42 286.6">
                        <path
                            d="M24.8,138.7l0.7,6l-4.6,5.8l-1.6,9.1l-3.1,1.3l-2.7-13.8l-1.8-4.9l1.5-3.1L24.8,138.7z M4.2,139.1l3.3,9.3l7.1,13.8 l-1.8,12.6l-5.1-14.2l-4.2-8L4.2,139.1z M8,168.8l1.5,4.9l3.3,20.6l0.4,27.5l-4.6,26.8l0.2-34.4L4,200.6l-0.7-15.1L8,168.8z M18.6,181.3l-1.1,41.3l-8.9,33.3l9.6-4.6l16-57.8l-5.5-36.4L18.6,181.3z M2.7,261.8l0.7,18.4l1.5,6.4h4.6l1.3-4.4l1.6-0.2l-0.3,4.4 l5.9-1.8l1.6-0.9l6.6-1.4l0.2-5.2l-6.4-10.9l-4.4-5.5l-10.8-4.4L2.7,261.8z M28.3,3.1v22.5L12.6,56.6L2.7,87.5l1-21.4L28.3,3.1z M2.8,33.3l-0.1-0.2l0.8-2L20.1,13l1.2-0.4l-11,28.4L2.8,33.3z M9.1,44.1L2.3,61.7L0,40.1l1.3-3.4L9.1,44.1z M35.6,61.9l-0.8,25.3 l-12.8,35.3l3.9,10.1l12.6-44.5L35.6,61.9z M11,74.7l-0.3,0.8L4.2,91l4.2,38.3l6.6-3.5L9.2,90.1L11,74.7z M30.8,126.5l-5.1,27.3 L29,152l2.7,8.9L30.8,126.5z M32.5,0l-0.8,21.4l7,42.3L42,29.5L32.5,0z M16.5,109.9l2.1,12.4L32,85.1l0.8-38.3l-2.5-19.4L15.7,59.7 l-3.3,26L16.5,109.9" />
                    </svg>
                    <svg data-position="mãoE" class="handE" xmlns="http://www.w3.org/2000/svg" width="33.3" height="39"
                        viewBox="0 0 33.3 39">
                        <path
                            d="M21.3,0l2.9,6.9l8.4,1.3l0.7,12.5l-4.4,17.8L26,38.3l2.8-11.8l-3-0.1L21,39l-3.5-0.4l4.4-12.7l-3.1-0.6l-6,13.5l-4.4-0.4 l6.1-14.1L12.4,23L4.9,35l-3.8-0.4L12.4,13l-1.1-1.8L0.7,15.7L0,13.1l8.6-7.8L21.3,0z" />
                    </svg>
                    <svg data-position="mãoD" class="handD" xmlns="http://www.w3.org/2000/svg" width="33.3" height="39"
                        viewBox="0 0 33.3 39">
                        <path
                            d="M12,0L9.1,6.9L0.7,8.2L0,20.7l4.4,17.8l2.9-0.2L4.5,26.4l3-0.1l4.7,12.6l3.5-0.4l-4.4-12.7l3.1-0.6l6,13.5l4.4-0.4 l-6.1-14.1l2.1-1.3l7.5,12l3.8-0.4L20.8,12.9l1.1-1.8l10.6,4.4l0.7-2.4l-8.6-7.8L12,0z" />
                    </svg>
                </div>

                <div id="area" style="position: relative;">
                    Area: <span style="position: absolute;" id="data"></span>
                </div>
            </section>
            <header>
                <p class="noselect">Bem vindo, {{ officer.name }}.</p>
                MEDICAL INFORMATION CENTER
            </header>
            <main id="main">
                <div class="section" v-if="page == 'Search Reports'">

                    <h2 class="page-title">BUSCAR DATABASE</h2>

                    <form class="noselect search">
                        <div>
                            <input v-model="report_search" type="text" class="noselect" placeholder="Name or Report ID"
                                required>
                        </div>
                        <button v-on:click="ReportSearch()" type="button" class="noselect">BUSCAR</button>
                    </form>

                    <br />

                    <div class="left-side" style="max-height: 450px; width: 500px;">
                        <h3>DATA</h3>
                        <h4 v-if="report_selected.date"> {{ report_selected.date }} </h4>
                        <h4 v-else-if="report_selected.date == null"> ... </h4>
                        <h3>NOME</h3>
                        <h4 v-if="report_selected.name" v-on:click="OpenOffenderDetailsById(report_selected.char_id);">
                            {{ report_selected.name }} </h4>
                        <h4 v-else-if="report_selected.name == null"> ... </h4>
                        <h3>TRATAMENTO #{{ report_selected.id}}</h3>
                        <h4 v-if="report_selected.title"> {{ report_selected.title }} </h4>
                        <h4 v-else-if="report_selected.title == null"> ... </h4>
                        <h3>TAXAS</h3>
                        <h4 v-if="report_selected.charges == null"> ... </h4>
                        <span v-for="(amount, offense in report_selected.charges" :key="offense">
                            <h4>
                                {{ offense }} (x{{ amount }})
                            </h4>
                        </span>
                        <h4 v-if="report_selected.jailtime">Sentence: {{ report_selected.jailtime }} months</h4>
                        <h3>MÉDICO RESPONSÁVEL</h3>
                        <h4 v-if="report_selected.author"> {{ report_selected.author }} </h4>
                        <h4 v-else-if="report_selected.author == null"> ... </h4>
                        <br />
                        <button v-if="report_selected.date" type="button" v-on:click="changePage('Report Details')"
                            id="report-details" class="noselect">VER LAUDO</button>
                        <button v-if="report_selected.date" type="button"
                            v-on:click="changePage('Submit Report'); report_new.charges = report_selected.charges; report_new.title = report_selected.title; report_new.incident = report_selected.incident;"
                            id="report-details" class="noselect">COPIAR LAUDO</button>
                        <button type="button" style="margin-top: 5px;" v-on:click="changePage('Submit Report')"
                            class="noselect">NOVO LAUDO</button>
                    </div>

                    <div class="right-side" style="max-height: 435px;">
                        <div v-if="report_results.results">
                            <h3>SEARCH RESULTS</h3>
                            <h4 style="margin: 10px 1px 30px 1px;">Finding results for '{{ report_results.query }}'...
                            </h4>
                            <span v-if="report_results.results" v-for="result in report_results.results">
                                <h4 style="font-size: 12px; margin-bottom: 3px;"> {{ result.date }} - ID:
                                    {{ result.id }}
                                </h4>
                                <button type="button" class="noselect" v-on:click="report_selected = result;"
                                    style="margin-bottom: 10px; width: 100%; padding: unset;"> {{ result.title }}
                                </button>
                                <br />
                            </span>
                        </div>
                    </div>
                </div>

                <div class="section" v-if="page == 'Submit Report'">

                    <h2 class="page-title">NOVO LAUDO</h2>

                    <div class="left-side" style="position:absolute; top: 20%; max-height: 450px;">
                        <form class="noselect">
                            <h3>NOME</h3>
                            <h4 v-if="report_new.name"> {{ report_new.name }} </h4>
                            <h4 v-else-if="report_new.name == null"> ... </h4>
                            <h3>TRATAMENTO</h3>
                            <input v-model="report_new.title" type="text" class="noselect"
                                placeholder="Nome do tratamento" class="report-input" required>
                            <h3>DETALHES</h3>
                            <textarea v-model="report_new.incident" id="textarea2"                                
                                class="noselect" rows="6" cols="55" placeholder="Escreva o tipo de tratamento..."
                                onkeypress='this.style.height = "";this.style.height = this.scrollHeight + "px"'
                                required>
                            </textarea>
                            <h3>TAXAS</h3>
                            <h4 v-if="Object.keys(report_new.charges).length == 0"> ... </h4>
                            <span v-for="(amount, offense in report_new.charges" :key="offense">
                                <h4>
                                    <span v-on:click="RemoveCharge(offense)"
                                        style="color: red; font-weight: all;">(-)</span>
                                    {{ offense }} (x{{ amount }})
                                </h4>
                            </span>
                            <h4 v-if="report_new.recommended_fine > 0">Fine: ${{report_new.recommended_fine}}</h4>
                            <h4 v-if="report_new.recommended_sentence > 0">Recommended Sentence:
                                {{report_new.recommended_sentence}} months</h4>
                            <h3 v-if="report_new.recommended_sentence > 0">SENTENCE</h3>
                            <input v-if="report_new.recommended_sentence > 0" v-model="report_new.sentence"
                                style="font-size: 14px; margin-bottom: 5px;" type="text" class="noselect"
                                placeholder="Enter months" class="report-input" required>
                            <br />  
                            <button
                                v-if="report_new.char_id && Object.keys(report_new.charges).length > 0 && report_new.incident && report_new.title && ((report_new.recommended_sentence > 0 && report_new.sentence) || report_new.recommended_sentence == 0)"
                                v-on:click="SubmitNewReport()" type="button" class="noselect"
                                style="margin-top: 20px">SUBMIT REPORT</button>
                            <button v-if="report_new.focus == 'charges'" v-on:click="report_new.focus = 'name'"
                                type="button" class="noselect" style="margin-top: 20px">BUSCAR PACIENTE</button>
                            <button v-if="report_new.focus == 'name'" v-on:click="report_new.focus = 'charges'"
                                type="button" class="noselect" style="margin-top: 20px">PESQUISA DE TRATAMENTO</button>
                        </form>
                    </div>

                    <div class="right-side" style="position: absolute; top: 15%;">
                        <div v-if="report_new.focus == 'name'">
                            <h3 style="margin: 10px 0px">BUSCAR PACIENTE</h3>
                            <form class="noselect" style="margin-right: 10px;">
                                <input v-model="offender_search" type="text" class="noselect" style="min-width: 100%;"
                                    placeholder="Nome do paciente!" required>
                                <button v-on:click="OffenderSearch()" type="button" class="noselect" style="margin-top: 10px;">BUSCAR</button>
                            </form>

                            <div v-if="offender_results.query" style="max-height: 400px;">
                                <h3>BUSCAR RESULTADOS</h3>
                                <h4 style="margin: 10px 1px 30px 1px;">Finding results for
                                    '{{ offender_results.query }}'...
                                </h4>
                                <span v-if="offender_results.results" v-for="offender in offender_results.results">
                                    <button type="button" class="noselect"
                                        v-on:click="report_new.char_id = offender.id; report_new.name = offender.firstname + ' ' + offender.lastname; report_new.focus='charges'"
                                        style="margin-bottom: 10px; width: 100%; padding: unset;">{{ offender.firstname }}
                                        {{ offender.lastname }}</button>
                                    <br />
                                </span>
                            </div>
                        </div>

                        <div v-else-if="report_new.focus == 'charges'">
                            <h3 style="margin: 10px 0px">TIPO DE TRATAMENTO</h3>
                            <div v-if="offenses" style="max-height: 460px;">
                                <form class="noselect">
                                    <input v-model="report_new.charges_search" type="text" class="noselect"
                                        placeholder="Filter charges" style="width: 80%;" required>
                                </form>
                                <span v-for="offense in filtered_offenses">
                                    <button type="button" class="noselect" v-on:click="AddCharge(offense.id)"
                                        style="margin-bottom: 10px; width: 100%; padding: unset;">{{ offense.label }}</button>
                                    <br />
                                </span>
                            </div>
                            <h4 v-else-if="offenses == false">Carregando tratamentos...</h4>
                        </div>
                    </div>
                </div>

                <div class="section" v-if="page == 'Search Patients'">

                    <h2 class="page-title">BUSCAR DATABASE</h2>

                    <form class="noselect search">
                        <div>
                            <input v-model="offender_search" type="text" class="noselect" placeholder="Nome do paciente" required>
                        </div>
                        <button v-on:click="OffenderSearch()" type="button" class="noselect">BUSCAR</button>
                    </form>

                    <br />

                    <div class="left-side" style="max-height: 450px;">
                        <h3>NOME:</h3>
                        <h4 v-if="offender_selected.firstname"> {{ offender_selected.firstname }}
                            {{ offender_selected.lastname }} </h4>
                        <h4 v-else-if="offender_selected.name == null"> ... </h4>
                        <h3>NOTAS</h3>
                        <h4 v-if="offender_selected.notes"> {{ offender_selected.notes }} </h4>
                        <h4 v-if="offender_selected.haswarrant"> {{ offender_selected.firstname}}
                            {{offender_selected.lastname}} has an active warrant... </h4>
                        <h4 v-else-if="offender_selected.notes == '' && !offender_selected.haswarrant"> ... </h4>
                        <h3>LICENÇA</h3>
                        <h4 v-if="offender_selected.licenses == false"> ... </h4>
                        <span v-else-if="offender_selected.licenses" v-for="license in offender_selected.licenses">
                            <h4>{{ license.label }}</h4>
                        </span>
                        <h3>PARECER MÉDICO</h3>
                        <h4 v-if="offender_selected.convictions == null"> ... </h4>
                        <span v-else-if="offender_selected.convictions"
                            v-for="(value, name) in offender_selected.convictions">
                            <h4>{{ name }} x{{ value }}</h4>
                        </span>
                        <h3>DATA DE NASCIMENTO</h3>
                        <h4 v-if="offender_selected.dateofbirth"> {{ offender_selected.dateofbirth }} </h4>
                        <h4 v-else-if="offender_selected.dateofbirth == null"> ... </h4>
                        <br />
                        <button v-if="offender_selected.firstname" type="button"
                            v-on:click="changePage('Edit Offender')" id="edit-offender" class="noselect">EDITAR
                            PERFIL</button>
                        <button v-if="offender_selected.firstname" type="button"
                            v-on:click="changePage('Submit Report'); report_new.char_id = offender_selected.id; report_new.name = offender_selected.firstname + ' ' + offender_selected.lastname; report_new.focus = 'charges'"
                            id="edit-offender" class="noselect">NEW REPORT</button>
                    </div>

                    <div class="right-side" style="max-height: 435px">
                        <div v-if="offender_results.query">
                            <h3>BUSCAR RESULTADOS</h3>
                            <h4 style="margin: 10px 1px 30px 1px;">Buscar por '{{ offender_results.query }}'...</h4>
                            <span v-if="offender_results.results" v-for="offender in offender_results.results">
                                <button type="button" class="noselect" v-on:click="OpenOffenderDetails(offender.id)"
                                    style="margin-bottom: 10px; width: 100%; padding: unset;">{{ offender.firstname }}
                                    {{ offender.lastname }}</button>
                                <br />
                            </span>
                        </div>

                        <div v-else-if="offender_results.results == false">
                            <img v-if="offender_selected.mugshot_url" v-bind:src="offender_selected.mugshot_url"
                                alt="mugshot" id="mugshot">
                            <img v-else-if="offender_selected.mugshot_url == ''" src="mugshot.png" alt="mugshot"
                                id="mugshot">
                        </div>
                    </div>

                </div>

                <div v-if="page == 'Report Details'">
                    <h2 class="page-title">DETALHES DO LAUDO</h2>
                    <br />
                    <div class="left-side" style="max-width: 1000px; float: unset; margin: 0 auto; max-height: 475px;">
                        <h3>DATA</h3>
                        <h4 v-if="report_selected.date"> {{ report_selected.date }} </h4>
                        <h4 v-else-if="report_selected.date == null"> ... </h4>
                        <h3>NOME</h3>
                        <h4 v-if="report_selected.name" v-on:click="OpenOffenderDetailsById(report_selected.char_id)">
                            {{ report_selected.name }} </h4>
                        <h4 v-else-if="report_selected.name == null"> ... </h4>
                        <template v-if="report_edit.enable == false">
                            <h3>TRATAMENTO #{{report_selected.id}}</h3>
                            <h4 v-if="report_selected.title"> {{ report_selected.title }} </h4>
                            <h4 v-else-if="report_selected.title == null"> ... </h4>
                        </template>
                        <template v-else-if="report_edit.enable == true">
                            <h3>LAUDO #{{report_selected.id}} (EDITAR)</h3>
                            <input v-model="report_edit.data.title" type="text" class="noselect"
                                placeholder="Enter report title" class="report-input" required>
                        </template>
                        <template v-if="report_edit.enable == false">
                            <h3>DETALHES</h3>
                            <h4 v-if="report_selected.incident" style="white-space: pre-line; white-space: pre-wrap;">
                                {{ report_selected.incident }}</h4>
                            <h4 v-else-if="report_selected.incident == null"> ... </h4>
                            <h4 v-if="report_selected.jailtime">Sentence: {{ report_selected.jailtime }} months</h4>
                        </template>
                        <template v-else-if="report_edit.enable == true">
                            <h3>DETALHES (EDITAR)</h3>
                            <form>
                                <textarea v-model="report_edit.data.incident" id="textarea" class="noselect"
                                    onfocus='this.style.height = "";this.style.height = this.scrollHeight + "px"'
                                    onkeypress='this.style.height = "";this.style.height = this.scrollHeight + "px"'
                                    placeholder="Enter report description" required>
                                </textarea>
                            </form>
                        </template>
                        <h3>TAXAS</h3>
                        <span v-for="(amount, offense) in report_selected.charges" :key="offense">
                            <h4>
                                {{ offense }} (x{{ amount }})
                            </h4>
                        </span>
                        <h3>MÉDICO RESPONSÁVEL</h3>
                        <h4 v-if="report_selected.author"> {{ report_selected.author }} </h4>
                        <h4 v-else-if="report_selected.author == null"> ... </h4>
                        <br />
                        <button type="button" v-on:click="changePage('Search Reports')" id="search-reports"
                            class="noselect">VOLTAR PARA LAUDOS</button>
                        <!--button v-if="report_edit.enable == false" type="button" v-on:click="SentencePlayer()" class="noselect">SENTENCE</button>-->
                        <button v-if="report_edit.enable == false" type="button" v-on:click="ToggleReportEdit()"
                            class="noselect">EDITAR</button>
                        <button v-if="report_edit.enable == false" type="button" v-on:click="DeleteSelectedReport()"
                            class="noselect">DELETAR</button>
                        <template v-else-if="report_edit.enable">
                            <button type="button" v-if="report_edit.data.incident && report_edit.data.title"
                                v-on:click="SaveReportEditChanges();" class="noselect">SALVAR</button>
                            <button type="button" v-on:click="ToggleReportEdit();" class="noselect">CANCEL</button>
                        </template>
                    </div>
                </div>

                <div v-if="page == 'Edit Offender'">
                    <h2 class="page-title">EDITAR PERFIL</h2>

                    <br />
                    <div class="left-side">
                        <form class="noselect">
                            <h3>NOTAS</h3>
                            <input v-model="offender_changes.notes" class="no-select" type="text"
                                v-bind:placeholder="offender_selected.notes">
                            <h3 style="margin-top: 20px">EVIDENCIAS</h3>
                            <input v-model="offender_changes.mugshot_url" class="noselect" type="text"
                                v-bind:placeholder="offender_selected.mugshot_url">
                            <h3 style="margin-top: 20px">LICENÇAS</h3>
                            <h4 v-if="offender_changes.licenses == false"> ... </h4>
                            <span v-else-if="offender_changes.licenses" v-for="license in offender_changes.licenses">
                                <h4>
                                    <span v-on:click="RemoveLicense(license)"
                                        style="color: red; font-weight: all;">(-)</span>
                                    {{ license.label }}
                                </h4>
                            </span>
                            <br />
                            <button type="button" class="noselect" v-on:click="SaveOffenderChanges()"
                                style="margin-top: 20px">SALVAR MUDANÇAS</button>
                        </form>
                    </div>
                    <div class="right-side">
                        <h3>NOTA MÉDICA</h3>
                        <h4
                            v-if="offender_changes.convictions == null || (offender_changes.convictions && Object.keys(offender_changes.convictions).length == 0)">
                            ... </h4>
                        <span v-else-if="offender_changes.convictions"
                            v-for="(value, name) in offender_changes.convictions">
                            <h4>
                                <span v-on:click="RemoveConviction(name)"
                                    style="color: red; font-weight: all;">(-)</span>
                                {{ name }} x{{ value }}
                            </h4>
                        </span>
                        <br />
                        <button type="button" class="noselect" v-on:click="changePage('Search Patients')">VOLTAR PARA
                            PERFIL</button>
                    </div>
                </div>

                <div v-if="page == 'Warrants'">
                    <h2 class="page-title">ATIVO</h2>
                    <form class="noselect">
                        <input v-model="warrant_search" type="text" class="noselect" placeholder="Filter warrants"
                            required>
                    </form>
                    <br />

                    <div style="max-width: 1000px; width: 1000px; float: unset; margin: 0 auto;">
                        <table v-if="filtered_warrants.length > 0" style="margin: 0 auto;">
                            <tr>
                                <th>Nome</th>
                                <th>Tratamento</th>
                                <th>Data</th>
                                <th style="column-width: 140px;">Expires</th>
                            </tr>
                            <tr v-for="warrant in filtered_warrants"
                                v-on:click="changePage('Warrant Details'); warrant_selected = warrant;">
                                <td>{{warrant.name}}</td>
                                <td
                                    style="overflow: hidden; text-overflow: ellipsis; max-width: 500px; max-height: 10px;">
                                    {{warrant.report_title}}</td>
                                <td>{{warrant.date}}</td>
                                <td style="padding: 5px;">{{warrant.expire_time}}</td>
                            </tr>
                        </table>
                        <h4 v-else-if="filtered_warrants.length == 0"
                            style="text-align: center; font-size: 20px; font-weight: bold;"><br />No warrants found!
                        </h4>
                        <div style="bottom: 0%">
                            <button v-on:click="changePage('Submit Warrant')" type="button" class="noselect"
                                style="margin-top: 30px;">NOVO</button>
                        </div>
                    </div>
                </div>

                <div v-if="page == 'Search Vehicles'">
                    <h2 class="page-title">BUSCAR DATABASE</h2>

                    <form class="noselect">
                        <input v-model="vehicle_search" type="text" class="noselect" placeholder="Full or partial plate"
                            required>
                        <button v-on:click="VehicleSearch()" type="button" class="noselect">BUSCA</button>
                    </form>

                    <br />

                    <div class="left-side">
                        <h3>PLATE</h3>
                        <h4 v-if="vehicle_selected.plate"> {{vehicle_selected.plate}} </h4>
                        <h4 v-else-if="vehicle_selected.plate == null"> ... </h4>
                        <h3>TYPE</h3>
                        <h4 v-if="vehicle_selected.type"> {{vehicle_selected.type}} </h4>
                        <h4 v-else-if="vehicle_selected.type == null"> ... </h4>
                        <h3>OWNER</h3>
                        <h4 v-if="vehicle_selected.owner"
                            v-on:click="OpenOffenderDetailsById(vehicle_selected.owner_id)">
                            {{vehicle_selected.owner}} </h4>
                        <h4 v-else-if="vehicle_selected.owner == null"> ... </h4>
                        <h3>MODEL</h3>
                        <h4 v-if="vehicle_selected.model"> {{vehicle_selected.model}} </h4>
                        <h4 v-else-if="vehicle_selected.model == null"> ... </h4>
                        <h3>COLOR</h3>
                        <h4 v-if="vehicle_selected.color"> {{vehicle_selected.color}} </h4>
                        <h4 v-else-if="vehicle_selected.color == null"> ... </h4>
                    </div>

                    <div class="right-side" style="max-height: 435px">
                        <div v-if="vehicle_results.results">
                            <h3>SEARCH RESULTS</h3>
                            <h4 style="margin: 10px 1px 30px 1px;">Finding results for '{{ vehicle_results.query }}'...
                            </h4>
                            <span v-if="vehicle_results.results" v-for="result in vehicle_results.results">
                                <button type="button" class="noselect" v-on:click="OpenVehicleDetails(result)"
                                    style="margin-bottom: 10px; width: 100%; padding: unset;"> {{ result.plate }}
                                </button>
                                <br />
                            </span>
                        </div>
                    </div>
                </div>

                <div v-if="page == 'Submit Warrant'">
                    <h2 class="page-title">NEW WARRANT</h2>

                    <div class="left-side" style="position: absolute; float: none; top: 15%; max-height: 450px;">
                        <form class="noselect">
                            <h3>REPORT</h3>
                            <h4 v-if="warrant_new.report_title"> {{ warrant_new.report_title }}
                            </h4>
                            <h4 v-else-if="warrant_new.report_title == null"> ... </h4>
                            <h3>NAME</h3>
                            <h4 v-if="warrant_new.name"> {{ warrant_new.name }} </h4>
                            <h4 v-else-if="warrant_new.name == null"> ... </h4>
                            <h3>NOTES</h3>
                            <input v-model="warrant_new.notes" style="font-size: 14px; width: 400px;" type="text"
                                class="noselect" placeholder="Enter warrant notes (optional)" class="report-input"
                                required>
                            <h3>CHARGES</h3>
                            <h4 v-if="Object.keys(warrant_new.charges).length == 0"> ... </h4>
                            <span v-else-if="Object.keys(warrant_new.charges).length > 0"
                                v-for="(amount, offense in warrant_new.charges" :key="offense">
                                <h4>
                                    {{ offense }} (x{{ amount }})
                                </h4>
                            </span>
                            <button v-if="warrant_new.report_id && warrant_new.char_id" v-on:click="SubmitNewWarrant()"
                                type="button" class="noselect" style="margin-top: 20px">SUBMIT WARRANT</button>
                        </form>
                    </div>

                    <div class="right-side" style="max-height: 450px;">
                        <h3 v-if="report_results.results">SEARCH RESULTS</h3>
                        <h3 v-else-if="report_results.query == ''">SEARCH REPORTS</h3>
                        <br />
                        <form class="noselect">
                            <input v-model="warrant_new.report_search" type="text" class="noselect"
                                placeholder="Name or Incident ID" required>
                            <button v-on:click="WarrantReportSearch()" type="button" class="noselect">SEARCH</button>
                        </form>
                        <div v-if="report_results.results">
                            <h4 style="margin: 10px 1px 30px 1px;">Finding results for
                                '{{ warrant_new.report_search }}'...
                            </h4>
                            <span v-if="report_results.results" v-for="result in report_results.results">
                                <h4 style="font-size: 12px; margin-bottom: 3px;"> {{ result.date }} - ID:
                                    {{ result.id }}
                                </h4>
                                <button type="button" class="noselect"
                                    v-on:click="warrant_new.report_title = result.title; warrant_new.name = result.name; warrant_new.charges = result.charges; warrant_new.report_id = result.id; warrant_new.char_id = result.char_id;"
                                    style="margin-bottom: 10px; width: 100%; padding: unset;"> {{ result.title }}
                                </button>
                                <br />
                            </span>
                        </div>
                    </div>
                </div>

                <div v-if="page == 'Warrant Details'">
                    <h2 class="page-title">WARRANT DETAILS</h2>
                    <br />
                    <div class="left-side" style="max-width: 1000px; float: unset; margin: 0 auto;">
                        <h3>DATA</h3>
                        <h4 v-if="warrant_selected.date"> {{ warrant_selected.date }} </h4>
                        <h4 v-else-if="warrant_selected.date == null"> ... </h4>
                        <h3>NOME</h3>
                        <h4 v-if="warrant_selected.name" v-on:click="OpenOffenderDetailsById(warrant_selected.char_id)">
                            {{ warrant_selected.name }} </h4>
                        <h4 v-else-if="warrant_selected.name == null"> ... </h4>
                        <h3>TRATAMENTO</h3>
                        <h4 v-if="warrant_selected.report_title"
                            v-on:click="OpenReportById(warrant_selected.report_id)">
                            {{ warrant_selected.report_title }} </h4>
                        <h4 v-else-if="warrant_selected.report_title == null"> ... </h4>
                        <h3>NOTAS</h3>
                        <h4 v-if="warrant_selected.notes"> {{ warrant_selected.notes }} </h4>
                        <h4 v-else-if="warrant_selected.notes == null"> ... </h4>
                        <h3>TAXAS</h3>
                        <span v-for="(amount, offense) in warrant_selected.charges" :key="offense">
                            <h4>
                                {{ offense }} (x{{ amount }})
                            </h4>
                        </span>
                        <h3>AUTHOR</h3>
                        <h4 v-if="warrant_selected.author"> {{ warrant_selected.author }} </h4>
                        <h4 v-else-if="warrant_selected.author == null"> ... </h4>
                        <h3>EXPIRES</h3>
                        <h4 v-if="warrant_selected.expire_time"> {{ warrant_selected.expire_time }} </h4>
                        <h4 v-else-if="warrant_selected.expire_time == null"> ... </h4>
                        <br />
                        <button type="button" v-on:click="changePage('Warrants')" id="warrants" class="noselect">BACK TO
                            WARRANTS</button>
                        <button type="button" v-on:click="DeleteSelectedWarrant()" class="noselect">DELETE</button>
                    </div>
                </div>
            </main>
            <footer>
                <p class="noselect">!Cuidando da sua saúde</p>
                <button v-on:click="closeMDT()" class="btn btn-3 hover-border-4">
                    <span>SAIR</span>
                </button>
            </footer>
        </section>
    </div>


    <script src="vue.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous">
    </script>
    <script src="script.js"></script>
</body>

</html>